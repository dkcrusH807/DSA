def IP(s):
    n=len(s)
    res=[]
    def back(st,p):
        if st==n and len(p)==4:
            res.append(".".join(p))
            return
        for e in range(st+1,min(st+4,n+1)):
            part=s[st:e]
            if len(part)>1 and part[0]=="0" or int(part)>255:
                continue
            back(e,p+[part])
    back(0,[])
    return res
print(IP("101023"))

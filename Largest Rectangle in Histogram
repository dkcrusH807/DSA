class Solution(object):
    def largestRectangleArea(self, heights):
        st=[]
        maxarea=0
        heights.append(0)
        for i,h in enumerate(heights):
            while st and h<heights[st[-1]]:
                height=heights[st.pop()]
                w=i if not st else i-st[-1]-1
                maxarea=max(maxarea,height*w)
            st.append(i)
        return maxarea
